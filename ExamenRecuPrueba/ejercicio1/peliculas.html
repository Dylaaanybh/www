<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Peliculas</title>
    <script src="datos.js"></script>
    <script type="module" src="pelicula.js"></script>
</head>
<body>
    <h1>Peliculas</h1>
    <ul></ul>
    <script type="module">
        import list from './pelicula.js'
        const ul = document.querySelector('ul')
function allMovies() {
    ul.innerHTML = ''
            list.forEach(l => {
                const li = document.createElement('li')
                li.textContent = l.titulo
                ul.append(li)
            }); 
}
function sortByName() {
    list.sort((a,b) => a.titulo > b.titulo)
    ul.innerHTML = ''
            list.forEach(l => {
                const li = document.createElement('li')
                li.textContent = l.titulo
                ul.append(li)
            })
}
function sortByBudget() {
    list.sort((a,b) => a.presupuesto < b.presupuesto)
    ul.innerHTML = ''
            list.forEach(l => {
                const li = document.createElement('li')
                li.textContent = l.titulo + ' ' + l.presupuesto
                ul.append(li)
            })
}
function showByParam(gender){
    ul.innerHTML = ''
    list.forEach(l => {     
                let aux = l.genero.split('|')
                for(let i = 0 ; i < aux.length ; i ++){
                    if(gender == aux[i]){
                        const li = document.createElement('li')
                        li.textContent = l.titulo + ' ' + l.genero
                        ul.append(li)
                    }
                }
            })
}

        setTimeout(allMovies, 5000)
        setTimeout(sortByName, 10000)
        setTimeout(sortByBudget, 15000)
        setTimeout(()=>showByParam('Action'), 20000)
        
    </script>
</body>
</html>